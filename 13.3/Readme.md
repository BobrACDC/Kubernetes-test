<h4>Домашнее задание к занятию "13.3 работа с kubectl"</h4>

Для выполнения задания использовалась тестовая среда из задания 13.1: приложение состоит из фронта, бэка и БД. 
Фронт и бэк разворачиваются в разных деплойментах. 

Развернутые поды приложения:
```
┌──(kali㉿kali)-[~/Documents/kube/13.1/shop]
└─$ kubectl get po -l app=ecommerce            
NAME                          READY   STATUS    RESTARTS   AGE
postgres-0                    1/1     Running   0          3d23h
product-be-56f584c9b7-pdw8d   1/1     Running   0          3d23h
product-fe-56946dbfdc-qrwl5   1/1     Running   0          3d23h

```

, где
- postgres-0   - база данных
- product-be-56f584c9b7-pdw8d - бэкенд
- product-fe-56946dbfdc-qrwl5 - фронтенд



<h5> Задание 1: проверить работоспособность каждого компонента
</h5> 
Для проверки работы можно использовать 2 способа: port-forward и exec. Используя оба способа, проверьте каждый компонент:

сделайте запросы к бекенду;
сделайте запросы к фронту;
подключитесь к базе данных.


Команда для port-forwarding: kubectl port-forward deployment/product-be :8080
Выводы:

Фронтенд



Бэкенд


Сервис




Команда для exec: kubectl exec -ti product-fe-56946dbfdc-qrwl5 /bin/bash
Внутри контейнера был сделан запрос на другой контейнер с помощью утилиты curl: curl http://172.17.0.22:8080

Адрес и порт соответствующего контейнера были взяты из вывода команды: kubectl describe po postgres-0

Запрос с фронта на бэк:



Запрос с бэка на фронт:


БД:








<h5> Задание 2: ручное масштабирование
</h5> 
При работе с приложением иногда может потребоваться вручную добавить пару копий. Используя команду kubectl scale, попробуйте увеличить количество бекенда и фронта до 3. После уменьшите количество копий до 1. Проверьте, на каких нодах оказались копии после каждого действия (kubectl describe).


Масштабирование проводилось с помощью команды: kubectl scale --replicas=1 deployment/product-be
Просмотр состояния: kubectl describe deploy product-fe
Выводы соответствующих команд для каждого деплоймента приведены ниже.



Установка 3 реплик:



Установка 1 реплики:
